<!DOCTYPE html>
<html lang="en"> 
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <title>StrongMind</title>
   <!-- Main stylesheet -->
  <link rel="stylesheet" href="css/styles.css" />
  <link rel="stylesheet" href="components/discovery/discovery.css" />

  <!-- Favicons and Touch Icons -->
  <link rel="icon" type="image/png" href="assets/icons/favicon.png">
  <link rel="apple-touch-icon" sizes="180x180" href="assets/icons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/icons/favicon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/icons/favicon-16.png">

  <!-- ‚úÖ Web App Manifest -->
  <link rel="manifest" href="manifest.json">

  <script>
  // Immediately hide Lexi before DOM paints
  (function() {
    const userType = localStorage.getItem('userType');
    const lexiHidden = localStorage.getItem('lexiHidden') === 'true';
    if (!userType || lexiHidden) {
      document.write('<style>#lexiContainer, #lexiRestore { display: none !important; }</style>');
    }
  })();
</script>
  
</head>

<body data-page="home">
  
  <!-- Top Navigation Bar -->
  <nav class="top-nav">
    <div class="nav-left">
  <a href="index.html">
    <img src="assets/sm-icon.png" alt="StrongMind" class="nav-logo">
  </a>
</div>
    <div class="nav-right">
      <img id="userTypeIcon" class="user-type-icon" src="" alt="User Type Icon" />
      <button id="plan-button" class="plan-button">Plan: Starter</button>
      <button class="spark-button">
        <span id="token-label">SparkTokens</span>
        <img src="assets/spark-tokens-white.png" class="spark-icon" />
      </button>
      <div class="hamburger-menu">
        <div class="hamburger-icon" id="hamburger">‚ò∞</div>
        <div class="hamburger-dropdown hidden" id="hamburgerDropdown">
  <div id="profileItem">Profile</div>
  <div id="settingsItem">Settings</div>
  <div id="walletItem">Wallet</div>
  <div id="subscriptionsItem">Subscriptions</div>
  <div id="infoItem">Information</div>
  <div id="resetItem">Reset Demo</div>
</div>
      </div>
    </div>
  </nav> 
  
  <!--- Main Content Area --->
  <main id="app"></main>

  <div id="screenOverlay"></div>

<!-- Dashboard Wrapper -->
<div id="dashboardWrapper" class="dashboard-wrapper">
  <div id="dashboardHeader" class="dashboard-header"></div>
  <div id="dashboardGrid" class="dashboard-grid"></div>
  <!-- === Trending Edutects + Course Spotlight Section === -->
<div class="marketplace-row">
  
  <!-- Trending Edutects -->
  <div class="trending-edutects">
    <h3>Trending Creators</h3>
    <div class="edutect-scroll">
      <div class="edutect-card">
        <img src="assets/edutect-1.png" alt="Dr. Samuel Russ">
        <h4>Dr. Samuel Russ</h4>
        <span class="role-pill professor">Professor</span>
        <p>Teaching for 30+ years<br>80+ published courses<br>270K Followers<br>‚≠ê 4.9 Avg. Rating</p>
        <button class="follow-btn">Follow</button>
      </div>
      <div class="edutect-card">
        <img src="assets/edutect-2.png" alt="Justine Morris">
        <h4>Justine Morris</h4>
        <span class="role-pill teacher">Teacher</span>
        <p>Homeschool Advocate<br>15+ published courses<br>90K Followers<br>‚≠ê 4.6 Avg. Rating</p>
        <button class="follow-btn">Follow</button>
      </div>
      <div class="edutect-card" id="sarahCard">
  <img src="assets/edutect-3.png" alt="Sarah Holmes">
  <h4>Sarah Holmes</h4>
  <span class="role-pill certified">Certified Teacher</span>
  <p>STEM Expert<br>40+ published courses<br>28K Followers<br>‚≠ê 4.1 Avg. Rating</p>
  <button class="follow-btn">Follow</button>
</div>
      <div class="edutect-card">
        <img src="assets/edutect-4.png" alt="Elena Rivera">
        <h4>Elena Rivera</h4>
        <span class="role-pill instructor">Instructor</span>
        <p>Faith-Based Instructor<br>20+ published courses<br>110K Followers<br>‚≠ê 4.8 Avg. Rating</p>
        <button class="follow-btn">Follow</button>
      </div>
      <div class="edutect-card">
        <img src="assets/edutect-5.png" alt="Jason Lang">
        <h4>Jason Lang</h4>
        <span class="role-pill coach">Coach</span>
        <p>Athletics Director<br>20+ published courses<br>35K Followers<br>‚≠ê 4.7 Avg. Rating</p>
        <button class="follow-btn">Follow</button>
      </div>
    </div>
  </div>

  <!-- Course Spotlight -->
<div class="course-spotlight">
  <h3>Course Spotlight</h3>

  <div class="video-wrapper">
    <iframe src="https://player.vimeo.com/video/280382232"
            frameborder="0"
            allow="autoplay; fullscreen"
            allowfullscreen></iframe>
  </div>

  <div class="video-wrapper" style="margin-top: 16px;">
    <iframe src="https://player.vimeo.com/video/516951308"
            frameborder="0"
            allow="autoplay; fullscreen"
            allowfullscreen></iframe>
  </div>
</div>
  
</div>
<!-- === Discovery Section Mount Point === -->
<div id="discoveryMount"></div>
</div>

  <!-- SparkTokens Modal -->
  <div id="sparkModal" class="modal hidden">
    <div class="modal-content">
      <span class="close">&times;</span>
      <div class="modal-header-text">
        <h2>SparkTokens: Flexible learning, your way!</h2>
        <p>
          SparkTokens give families the freedom to learn at their own pace. Use them to explore elective courses, join instructor-led learning, and unlock deeper experiences when you‚Äôre ready to go further.
        </p>
      </div>
      <div class="token-options"></div>
      <!-- === Spark Bonus & Referral Section === -->
<div class="spark-bonus-row">
  <div class="bonus-card">
    <h3>Thank you for joining StrongMind!</h3>
    <p>Enjoy <strong>250 SparkTokens</strong>, on us!</p>
    <button id="claimWelcomeBonus" class="claim-btn">Claim Now</button>
  </div>

  <div class="referral-card">
    <h3>Referral Bonus!</h3>
    <p>
      Share the learning fun, and grow your <strong>Homeschooling Network!</strong><br>
      Refer <strong>5</strong> more families and receive <strong>250 more SparkTokens!</strong><br>
      Your referrals also receive 250 free SparkTokens when they sign up!
    </p>
    <button id="sendReferralLink" class="referral-btn">Send Referral Link</button>
    <small class="referral-note">Remaining: 5</small>
  </div>
</div>
    </div>
  </div>

  <!-- Subscription Modal -->
  <div id="subscriptionModal" class="modal hidden">
    <div class="modal-content subscription-content">
      <span class="close" id="closeSubscriptionModal">&times;</span>
      <h2 class="sub-header">Choose the best fit for your family.</h2>
      <p class="subtext">No pressure, cancel anytime.</p>
      <div class="plans-container">
        <div class="plan-card starter">
          <h3><span class="highlight">Starter</span></h3>
          <p>Starting at $19.99</p>
          <ul>
            <li>‚úÖ Access to all <strong>StrongMind</strong> self-paced core courses</li>
            <li>üéì Up to 3 active courses at a time (finish one, start another)</li>
            <li>‚ö° <strong>250 SparkTokens</strong> per month (for electives & enrichment)</li>
            <li>üß≠ Built for focus, structure, and steady progress</li>
          </ul>
          <button onclick="selectPlan('Starter')">Current Plan</button>
        </div>
        <div class="plan-card plus">
          <img src="assets/popular.png" alt="Popular" class="plan-banner" />
          <h3><span>Spark</span><strong>Plus</strong></h3>
          <p>Starting at $29.99/mo*</p>
          <ul>
            <li>‚úÖ Everything in <strong>Starter</strong></li>
            <li>‚ö° <strong>500 SparkTokens</strong> per month (electives, workshops, enrichment)</li>
            <li>üéì Discounts for additional learners</li>
            <li>ü§ñ Access to Lexi & George AI learning companions</li>
            <li>‚ú® Ideal for mixing core learning with interests</li>
          </ul>
          <button onclick="selectPlan('SparkPlus')">Subscribe</button>
        </div>
        <div class="plan-card premium">
          <img src="assets/1-mo-free.png" alt="1 Month Free" class="plan-banner" />
          <h3><span>Spark</span><strong>Premium</strong></h3>
          <p>Starting at $59.99/mo*</p>
          <ul>
            <li>‚úÖ Everything in <strong>SparkPlus</strong></li>
            <li>‚ö° <strong>1000 SparkTokens</strong> per month*</li>
            <li>üéì Discounts for additional learners</li>
            <li>üåê Full access to the StrongMind learning ecosystem</li>
          </ul>
          <button onclick="selectPlan('SparkPremium')">Subscribe</button>
        </div>
      </div>
    </div>
  </div>

<!-- Profile Modal -->
<div id="profileModal" class="modal hidden">
  <div class="modal-content profile-modal-content">
    <span class="close" id="closeProfileModal">&times;</span>

    <!-- Profile Image Upload -->
    <div class="profile-photo">
      <img id="profileImage" src="assets/default-profile.png" alt="Profile Photo" />
      <button type="button" id="updatePhotoBtn" class="update-photo-btn">Update Photo</button>
      <input type="file" id="profileUpload" accept="image/*" />
    </div>
    <!-- Profile updated Form Styling -->
    <form id="profileForm" class="profile-form-fields">
  <h2 id="profileName">Your Name</h2>

  <label></label>
  <input type="text" id="nameInput" placeholder="First Last" />

  <label></label>
  <input type="email" id="emailInput" placeholder="you@email.com" />

  <label></label>
  <input type="tel" id="phoneInput" placeholder="(123) 456-7890" />

  <label></label>
  <input type="text" id="schoolNameInput" placeholder="Your Homeschool" />

  <label class="full-width">Bio</label>
  <textarea id="bioInput" placeholder="Tell us a bit about yourself..." rows="3"></textarea>

  <label class="full-width">Manage Family / Learners</label>
  <div class="mock-button full-width">Manage Family</div>

  <label class="full-width">Payment Info</label>
  <div class="mock-button full-width" id="paymentInfo">Loading plan info...</div>

  <label class="toggle-label">
    <span id="profileVisibilityLabel">Private Profile</span>
    <label class="switch">
      <input type="checkbox" id="publicProfileToggle" />
      <span class="slider"></span>
    </label>
  </label>

  <button type="submit" class="save-btn">Save Profile</button>
</form>
  </div>
</div>

  <!-- Info Modal -->
  <div id="infoModal" class="modal hidden">
    <div class="modal-content">
      <span class="close" id="closeInfoModal">&times;</span>
      <h2>About This PWA</h2>
      <p>This is a proof-of-concept for the StrongMind experience, created by Adam Wilkerson. Features are simulated for demonstration purposes.</p>
    </div>
  </div>

<!-- Onboarding Modal -->
<div id="onboardingModal">
  <div class="onboarding-box" id="onboardingBox">
    <img src="assets/sm-logo-1.png" alt="StrongMind logo" class="onboard-logo" />
    <h2>Welcome! We‚Äôre glad to see you!</h2>
    <p>Choose an option below to get started.</p>

    <!-- Original 3 options (unchanged) -->
    <div class="onboard-btn homeschool" data-usertype="homeschool">
      <img src="assets/homeschool.png" alt="Homeschool Family" />
      <span>We are a homeschool family</span>
    </div>

    <div class="onboard-btn learner" data-usertype="learner">
      <img src="assets/learner.png" alt="Independent Learner" />
      <span>I am an independent learner</span>
    </div>

    <div class="onboard-btn edutech" data-usertype="edutech">
      <img src="assets/edutect.png" alt="Educational Content Creator" />
      <span>I am an educational content creator</span>
    </div>

    <!-- NEW: expandable options (hidden by default) -->
    <div class="onboard-more-options" id="moreOptionsPanel" aria-hidden="true">
      <div class="onboard-extra-btn schools" id="schoolsOption">
        <img src="assets/icon-school.png" alt="StrongMind for schools" />
        <span>StrongMind for schools</span>
      </div>

      <div class="onboard-extra-btn partner" id="partnerOption">
        <img src="assets/icon-partner.png" alt="Partner with StrongMind" />
        <span>Partner with strongmind</span>
      </div>
    </div>

    <!-- NEW: footer links -->
    <div class="onboard-footer">
      <button type="button" class="footer-link" id="toggleMoreOptions">more options</button>
      <span class="footer-sep">|</span>
      <span class="footer-link disabled" id="loginPlaceholder">login to strongmind</span>
    </div>
  </div>
</div>

<!-- Homeschool Setup Modal -->
<div id="homeschoolStep1Modal">
  <div class="modal-content">
    <img src="assets/big-family.gif" alt="Welcome to Homeschool!" />
    <h2>Hi, homeschool family!</h2>
    <p>We‚Äôre so excited to help you start your homeschooling journey with StrongMind. Let‚Äôs set up a few basics to get started!</p>
    <button class="welcome-btn" id="homeschoolWelcomeBtn">Let‚Äôs Go!</button>
  </div>
</div>

<!-- Homeschool Details Form Modal -->
<div id="homeschoolDetailsModal" class="modal hidden">
  <div class="modal-content homeschool-details">
    <h3>Tell us about yourself</h3>

    <label>I am a...</label>
    <select id="homeschoolRole">
      <option value="parent">Parent / Guardian</option>
      <option value="other">Other</option>
    </select>

    <label>Number of learners</label>
    <input type="number" id="homeschoolLearners" min="1" placeholder="e.g. 2" />

    <label>Your name</label>
    <input type="text" id="homeschoolFirstName" placeholder="First name" />
    <input type="text" id="homeschoolLastName" placeholder="Last name" />

    <label>Homeschool name</label>
    <input type="text" id="homeschoolName" placeholder="Your Homeschool" />

    <label>Profile photo</label>
    <div class="profile-pic-preview">
  <img id="profilePicPreview" src="assets/default-profile.png" alt="Preview">
  <input type="file" id="uploadProfilePic" accept="image/*">
</div>

        <hr class="divider" />

    <h4>We chose homeschooling because...</h4>
    <p class="subtext">Select all that apply</p>

    <div class="checkbox-group">
      <label><input type="checkbox" name="reason" value="environment" /> Concern about school environment</label>
      <label><input type="checkbox" name="reason" value="moral" /> Prefer to provide moral instruction</label>
      <label><input type="checkbox" name="reason" value="faith" /> Prefer to provide faith-based instruction</label>
      <label><input type="checkbox" name="reason" value="nontraditional" /> Interested in a non-traditional approach</label>
      <label><input type="checkbox" name="reason" value="special" /> Child has special needs</label>
      <label><input type="checkbox" name="reason" value="other" /> Other</label>
    </div>

    <p class="small-note">This helps us understand your needs and curate recommended educational content.</p>

    <button id="saveHomeschoolInfo" class="welcome-btn">Save & Continue</button>
    <button id="skipOnboardingStep" class="skip-btn">Skip this step</button>
  </div>
</div>
  
  </div>
</div>

<!-- === INDEPENDENT LEARNER STEP 1 MODAL === -->
<div id="learnerStep1Modal" class="hidden">
  <div class="creator-modal-content learner-step-modal">
    <span class="close">&times;</span>

    <h2>Welcome, Learner!</h2>
    <p>I am looking to...</p>

    <div class="learner-options">
      <!-- Left side -->
      <div class="learner-option">
        <p class="option-text">
          Earn my accredited high school diploma.<br>
          <small>In partnership with</small>
        </p>
        <img src="assets/AVA_logo.webp" alt="American Virtual Academy" class="partner-logo">
        <button class="learner-btn learn-more-btn"
          onclick="window.open('https://americanvirtualacademy.com','_blank')">
          Learn More
        </button>
      </div>

      <!-- Right side -->
      <div class="learner-option">
        <p class="option-text">
          Purchase courses & more on StrongMind.<br>
          <small>Join the learning community!</small>
        </p>
        <img src="assets/sm-logo-1.png" alt="StrongMind" class="partner-logo">
        <button class="learner-btn get-started-btn" id="learnerGetStartedBtn">
          Get Started
        </button>
      </div>
    </div>
  </div>
</div>

  <!-- Lexi AI Companion -->
<div id="lexiContainer" class="lexi-container">
  <img src="assets/lexi.gif" alt="Lexi AI Companion" class="lexi-avatar" id="lexiAvatar" />
  <div id="lexiModal" class="lexi-modal hidden">
    <p><strong>Lexi AI Companion</strong><br>coming soon!</p>
  </div>
  <button id="lexiClose" class="lexi-close">√ó</button>
</div>

<!-- Lexi restore (+) button -->
<button id="lexiRestore" class="lexi-restore hidden">+</button>
  
<script src="js/app.js"></script>
<script src="components/discovery/discovery.js"></script>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const sarahCard = document.getElementById("sarahCard");
    if (!sarahCard) return;

    sarahCard.addEventListener("click", (e) => {
      // Don't navigate if they clicked the Follow button (or anything inside it)
      if (e.target.closest(".follow-btn")) return;

      // Optional: store which instructor to open later (future-proof)
      localStorage.setItem("activeInstructorId", "sarah-holmes");

      // Go to the instructor page
      window.location.href = "instructor.html";
    });

    // Optional: cursor feels clickable
    sarahCard.style.cursor = "pointer";
  });
</script>
  
</body>
</html>
